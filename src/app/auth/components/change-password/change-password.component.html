<div class="container my-5">
    <div class="mx-4 mx-sm-auto d-flex flex-column gap-4 justify-content-center col-sm-7 col-md-6 col-lg-3">
        <div class="text-center">
            <img src="../../../../assets/img/password.svg" alt="una chico pensando en una nueva contraseña"
                class="img-fluid" width="200" height="200">
        </div>

        <h1 class="text-center fs-2 fw-normal text-primary">Cambiar contraseña</h1>

        <form class="d-flex flex-column gap-4 needs-validation" novalidate [formGroup]="passwordForm"
            (ngSubmit)="onSubmit()">

            <div class="text-center">
                <span class="small text-danger" *ngIf="!expression">Las contraseñas no coinciden</span>
            </div>

            <div class="alert alert-danger text-center" role="alert"
                *ngIf="passwordForm.get('confirmPassword')?.hasError('confirmedValidator') && passwordForm.get('confirmPassword')?.touched">
                <span>
                    Las contraseñas no coinciden
                </span>
            </div>

            <div>
                <label for="new-password" class="form-label">Contraseña</label>
                <input type="password" id="new-password" class="form-control form-control-lg shadow-sm"
                    formControlName="newPassword" [type]="password">
                <span class="small text-danger inline-block"
                    *ngIf="passwordForm.get('newPassword')?.hasError('required') && passwordForm.get('newPassword')?.touched">
                    *Este campo es requerido
                </span>
                <span class="small text-danger inline-block"
                    *ngIf="passwordForm.get('newPassword')?.hasError('minlength') && passwordForm.get('newPassword')?.touched">
                    *La contraseña debe tener mínimo 8 caracteres
                </span>
                <span class="small text-danger inline-block"
                    *ngIf="passwordForm.get('newPassword')?.hasError('maxlength') && passwordForm.get('newPassword')?.touched">
                    *La contraseña debe tener máximo 20 caracteres
                </span>
                <span class="small text-danger inline-block"
                    *ngIf="passwordForm.get('newPassword')?.hasError('pattern') && passwordForm.get('newPassword')?.touched">
                    *La contraseña debe incluir una letra mayúscula, un número, carácter especial.</span>
            </div>

            <div>
                <label for="confirm-password" class="form-label">Confirmar contraseña</label>
                <input type="password" id="confirm-password" class="form-control form-control-lg shadow-sm"
                    formControlName="confirmPassword" [type]="password">
                <span class="small text-danger"
                    *ngIf="passwordForm.get('confirmPassword')?.hasError('required') && passwordForm.get('confirmPassword')?.touched">
                    *Este campo es requerido
                </span>
            </div>

            <div class="form-check">
                <input type="checkbox" id="showPassword" (click)="hideShowPassword()" class="form-check-input shadow-sm">
                <label class="form-check-label" for="showPassword">
                  Mostrar contraseñas
                </label>
            </div>

            <div class="d-grid gap-4">
                <input type="submit" value="Guardar" class="btn btn-lg btn-primary shadow-sm"
                    [disabled]="passwordForm.invalid">
                <a class="btn btn-lg btn-outline-secondary shadow-sm" routerLink="/auth/login">Cancelar</a>
            </div>
        </form>
    </div>
</div>